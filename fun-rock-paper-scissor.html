<!DOCTYPE html>
<html lang="en">

<head>
  <title>rock paper scissor</title>
</head>

<body>


  <p>Rock paper scissor</p>

  <button onclick="game('rock');">rock</button>
  <button onclick="game('paper');">paper</button>
  <button onclick="game('scissor');">scissor</button>
  <button onclick="
     score.wins=0;
     score.losses=0;
     score.ties=0;
     localStorage.removeItem('score'); 
    ">reset</button>

  <script>
     let score = JSON.parse(localStorage.getItem('score')) || {
       wins : 0,
       losses :0,
       ties : 0,
       
     };
     // {
     //   // wins: 0,
     //   // losses: 0,
     //   // ties: 0,


     // }; 
       
     //  console.log(JSON.parse(localStorage.getItem('score')));
      //  console.log(localStorage.getItem('score')); 
     //  const stor=localStorage.getItem('score');
     //  console.log(stor);
     // the obove statement is taking item from localstorage and displaying it as an object using json parse function instead of string on console.
      
      
      //  if(!score) // score === null
      //  {
      //    score = {
      //     wins : 0,
      //     looses :0,
      //     ties : 0,
      //    } 

      //  } 



    let result = '';

    function pick() {
      const randonNumber = (Math.random());
      let comMove = '';


      if (randonNumber >= 0 && randonNumber < 1 / 3) {
        comMove = 'rock';
      }
      else if (randonNumber >= 1 / 3 && randonNumber < 2 / 3) {
        comMove = 'paper';
      }
      else if (randonNumber >= 2 / 3 && randonNumber < 1) {
        comMove = 'scissor';
      }
      // console.log(comMove);
      return comMove;
    }
    function game(playermove) {

      const comMove = pick();

      if (playermove === 'scissor') {
        if (comMove === 'rock') {
          result = 'you lose';
        }
        else if (comMove === 'paper') {
          result = 'you win';
        }
        else if (comMove === 'scissor') {
          result = 'tie';
        }
        // console.log(result);
      }

      if (playermove === 'rock') {
        if (comMove === 'rock') {
          result = 'tie';
        }
        else if (comMove === 'paper') {
          result = 'you lose';
        }
        else if (comMove === 'scissor') {
          result = 'you win';
        }
        // console.log(result);
      }

      if (playermove === 'paper') {
        if (comMove === 'rock') {
          result = 'you win';
        }
        else if (comMove === 'paper') {
          result = 'tie';
        }
        else if (comMove === 'scissor') {
          result = 'you lose';
        }
        // console.log(result);
      }

      if (result === 'you win') {
        score.wins += 1;
      }
      else if (result === 'you lose') {
        score.losses ++;
      }
      else if (result === 'tie') {
        score.ties += 1;
      }
       
      localStorage.setItem('score',JSON.stringify(score));
       // the obove statement is storing score as a string in localstorage 

        

      alert('your move is ' + playermove + ' computer move is ' + comMove + ' ' + result + '\n'+ ' wins:' + score.wins + ' looses:' + score.losses + ' ties:' + score.ties);



    }


  </script>
</body>

</html>